### 实验报告：Web 服务实现数字排序功能

---

#### 一、实验目的（软件需求文档）

**1.1 目的**

本实验旨在通过实践了解 Web 服务的基本原理和使用方法。通过在 Visual Studio 中创建一个 Web 服务，该服务能够接收用户输入的多个数字，进行排序，并将排序结果返回给客户端页面。实验帮助掌握 Web 服务的创建与调用、客户端与服务器端的交互等基本技能，熟悉 Web 服务的开发流程。

**1.2 功能需求**

- 用户在网页上输入多个数字。
- 用户提交数字后，调用 Web 服务进行排序。
- Web 服务接收并处理用户输入的数字，进行排序。
- 排序后的数字通过 Web 服务返回，并在网页上显示出来。

**1.3 非功能需求**

- 确保 Web 服务能够在短时间内响应用户请求，排序过程流畅无卡顿。
- 用户输入错误（如非数字字符）时，系统应能正确提示，并避免崩溃。
- 确保 Web 服务的接口简洁易用，客户端与服务器端的交互直观。

---

#### 二、实验原理（软件设计文档）

**2.1 技术架构**

- **Web 服务架构**：采用 SOAP 协议作为客户端和服务器端之间的通信协议。Web 服务提供排序功能，通过输入多个数字并返回排序后的数组。
- **前端网页设计**：客户端使用 HTML 和 ASP.NET Web 窗体技术，通过文本框输入数字，并通过按钮触发排序操作，显示排序后的结果。
- **后端 Web 服务**：采用 C# 编写，使用 `ASMX` 格式创建 Web 服务，方法 `SortNumbers` 用于排序并返回结果。

**2.2 主要模块设计**

- **Web 服务模块**：`SortService.asmx`，负责接收数字数组，排序并返回排序结果。该模块实现了一个公开的 `SortNumbers` 方法。
- **客户端页面模块**：`SortPage.aspx`，提供用户输入接口，接收用户输入的数字，调用 Web 服务进行排序，并将排序结果显示在页面上。
  
---

#### 三、使用仪器、材料（软硬件开发环境）

**3.1 实验环境**

- **开发工具**：Visual Studio 2022
- **编程语言**：C#（用于实现 Web 服务和客户端代码）
- **Web 服务协议**：SOAP
- **浏览器**：Microsoft Edge（用于访问客户端页面）
- **操作系统**：Windows 10

---

#### 四、实验步骤（实现的过程）

1. **创建 Web 服务**：
   - 在 Visual Studio 中，创建一个新的 ASP.NET Web 应用项目，选择空模板。
   - 右键项目，选择“添加” -> “新建项”，选择“Web 服务（ASMX）”，命名为 `SortService.asmx`。
   - 在 `SortService.asmx.cs` 文件中，编写 `SortNumbers` 方法，接收一个整数数组，使用 `Array.Sort` 排序并返回排序后的数组。

2. **创建客户端页面**：
   - 右键项目，选择“添加” -> “新建项” -> “Web 窗体”，命名为 `SortPage.aspx`。
   - 在 `SortPage.aspx` 中，添加一个输入框让用户输入数字，并添加一个按钮来触发排序操作，显示排序结果。

3. **实现客户端调用 Web 服务**：
   - 在 `SortPage.aspx.cs` 文件中，编写代码实例化 Web 服务客户端（`SortServiceSoapClient`），并调用 `SortNumbers` 方法进行排序。
   - 显示排序后的数字结果。

4. **调试与运行**：
   - 启动项目，确保 Web 服务正常运行，客户端页面能够通过输入数字触发排序操作并显示结果。

---

#### 五、实验结果及分析（实现的效果，包括屏幕截图、系统总体运行情况和测试情况等）

**5.1 运行结果**

当用户输入多个数字并点击“排序”按钮时，系统通过 Web 服务将这些数字进行排序，并将排序结果显示在页面上。以下是系统运行的截图示例：

- **用户输入界面**：
  输入框中，用户可以输入多个数字，如 `34, 12, 7, 19, 22`。

- **排序结果显示**：
  在点击“排序”后，系统显示排序后的结果，例如 `7, 12, 19, 22, 34`。

**5.2 测试情况**

- 测试了多个输入场景，包括：
  - 正常输入：多个整数数字，能够正确返回排序结果。
  - 输入空值：当用户未输入数字时，系统提示输入为空。
  - 输入非数字字符：系统应提示输入无效，并避免崩溃。

**5.3 系统分析**

- **性能**：在小范围的数字排序时，系统响应迅速，排序操作没有明显延迟。
- **错误处理**：对于输入错误，系统能及时提示用户并避免出现异常或崩溃。
- **易用性**：用户界面简洁明了，操作直观，符合需求。

**5.4 屏幕截图示例**

（此处可以插入实验过程中运行的网页截图，包括用户输入与排序结果显示的界面。）

---

#### 六、总结

通过本实验，学习了如何在 Visual Studio 中创建 Web 服务并将其与客户端页面结合使用。掌握了 Web 服务的创建、调用过程，以及如何通过 ASP.NET Web 窗体与 Web 服务进行交互。同时，本实验也提高了处理用户输入、响应请求和错误处理的能力。通过对系统的调试与测试，确保了功能的实现和稳定性。

